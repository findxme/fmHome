# å®¶åº­æ™ºèƒ½ç‚¹é¤ç³»ç»Ÿ (Family Meal Planner)

ä¸€ä¸ªå¸®åŠ©å¹´è½»å°å®¶åº­è§£å†³æ—¥å¸¸åƒé¥­å›°æ‰°çš„æ™ºèƒ½ç‚¹é¤ç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

- **èœå•å•†åŸ** - åƒé€›å•†åŸä¸€æ ·æµè§ˆå’Œé€‰æ‹©èœå“
- **æ™ºèƒ½æ¨è** - æ ¹æ®å£å‘³åå¥½æ¨èèœå“
- **èœå•è§„åˆ’** - AIæ™ºèƒ½è§„åˆ’ä¸€å‘¨èœå•
- **è´­ç‰©æ¸…å•** - è‡ªåŠ¨æ±‡æ€»æ‰€éœ€é£Ÿæ
- **é£Ÿè°±è¯¦æƒ…** - è¯¦ç»†çš„åˆ¶ä½œæ­¥éª¤å’Œè§†é¢‘æ•™ç¨‹
- **çƒ¹é¥ªé—®ç­”** - AIè§£ç­”çƒ¹é¥ªç–‘é—®

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Vue 3 + Vite + TailwindCSS
- **åç«¯**: Node.js + Express
- **æ•°æ®åº“**: SQLite
- **AI**: Claude API (å¯é€‰)

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm run install:all
```

æˆ–è€…åˆ†åˆ«å®‰è£…ï¼š

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd client && npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../server && npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `server/.env` æ–‡ä»¶ï¼Œé…ç½®APIå¯†é’¥ï¼š

```env
PORT=3001
# Claude API Key (å¯é€‰ï¼Œç”¨äºAIæ¨èåŠŸèƒ½)
CLAUDE_API_KEY=your_api_key_here
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

- å‰ç«¯: http://localhost:3000
- åç«¯: http://localhost:3001

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## é¡¹ç›®ç»“æ„

```
fmHome/
â”œâ”€â”€ client/                 # å‰ç«¯ (Vue 3)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/        # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/           # APIå°è£…
â”‚   â”‚   â””â”€â”€ assets/        # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ server/                 # åç«¯ (Node.js)
â”‚   â”œâ”€â”€ routes/            # APIè·¯ç”±
â”‚   â”œâ”€â”€ database.js        # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ seedData.js        # ç§å­æ•°æ®
â”‚   â””â”€â”€ index.js           # å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

## åŒ…å«èœå“

ç³»ç»Ÿé¢„ç½®äº†100é“å®¶å¸¸èœè°±ï¼ŒåŒ…æ‹¬ï¼š
- è‚‰ç±»èœå“ (çº¢çƒ§è‚‰ã€ç³–é†‹æ’éª¨ã€å®«ä¿é¸¡ä¸ç­‰)
- æµ·é²œèœå“ (æ¸…è’¸é²ˆé±¼ã€è’œè“‰è™¾ã€ç™½ç¼è™¾ç­‰)
- ç´ èœèœå“ (ç•ªèŒ„ç‚’è›‹ã€åœ°ä¸‰é²œã€éº»å©†è±†è…ç­‰)
- æ±¤ç±» (ç•ªèŒ„è›‹èŠ±æ±¤ã€æ’éª¨ç‰ç±³æ±¤ã€é¸¡æ±¤ç­‰)
- æ—©é¤ä¸»é£Ÿ (è›‹ç‚’é¥­ã€è‘±æ²¹æ‹Œé¢ã€ä¸‰æ˜æ²»ç­‰)
- ç”œå“ (çº¢æ£é“¶è€³ç¾¹ã€èŠ’æœè¥¿ç±³éœ²ç­‰)

## API æ¥å£

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/dishes` | GET | è·å–èœå“åˆ—è¡¨ |
| `/api/dishes/:id` | GET | è·å–èœå“è¯¦æƒ… |
| `/api/dishes/recommend/daily` | GET | è·å–æ¯æ—¥æ¨è |
| `/api/shopping-list` | GET/POST | è´­ç‰©æ¸…å•ç®¡ç† |
| `/api/ai/recommend` | POST | AIæ™ºèƒ½æ¨è |
| `/api/ai/plan` | POST | AIèœå•è§„åˆ’ |
| `/api/videos/recipe/:dishName` | GET | è·å–èœè°±è§†é¢‘ |

## æ‰©å±•åŠŸèƒ½

### é…ç½®Claude AI

1. ç”³è¯· Claude API Key: https://console.anthropic.com/
2. åœ¨ `server/.env` ä¸­é…ç½® `CLAUDE_API_KEY`
3. é‡å¯æœåŠ¡

### æ·»åŠ èœå“

ç¼–è¾‘ `server/seedData.js` æ–‡ä»¶ï¼Œæ·»åŠ æ–°çš„èœå“æ•°æ®ã€‚

## æµè§ˆå™¨æ”¯æŒ

- Chrome (æœ€æ–°ç‰ˆæœ¬)
- Safari (æœ€æ–°ç‰ˆæœ¬)
- Firefox (æœ€æ–°ç‰ˆæœ¬)
- Edge (æœ€æ–°ç‰ˆæœ¬)

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

æœ¬é¡¹ç›®æ”¯æŒåŸºäº Docker çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ã€‚

### å¿«é€Ÿéƒ¨ç½²

#### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone git@github.com:findxme/fmHome.git
cd fmHome

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env  # ç¼–è¾‘é…ç½®

# 3. æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# 4. æŸ¥çœ‹çŠ¶æ€
docker-compose ps
docker-compose logs -f app
```

#### CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²

æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š
1. æ„å»º Docker é•œåƒ
2. æ¨é€åˆ° GitHub Container Registry
3. SSH è¿æ¥åˆ°æœåŠ¡å™¨
4. æ‹‰å–æœ€æ–°é•œåƒå¹¶é‡å¯æœåŠ¡

**è¯¦ç»†é…ç½®æ­¥éª¤è¯·å‚è€ƒï¼š[DEPLOYMENT.md](./DEPLOYMENT.md)**

### æœåŠ¡å™¨å¿«é€Ÿè®¾ç½®

åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤å¿«é€Ÿå®‰è£…ç¯å¢ƒï¼š

```bash
# ä¸‹è½½å¹¶è¿è¡ŒæœåŠ¡å™¨åˆå§‹åŒ–è„šæœ¬
curl -o server-setup.sh https://raw.githubusercontent.com/findxme/fmHome/main/server-setup.sh
chmod +x server-setup.sh
./server-setup.sh
```

### éƒ¨ç½²æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `Dockerfile` | Docker é•œåƒæ„å»ºé…ç½®ï¼ˆå¤šé˜¶æ®µæ„å»ºï¼‰ |
| `docker-compose.yml` | ç”Ÿäº§ç¯å¢ƒå®¹å™¨ç¼–æ’é…ç½® |
| `docker-compose.dev.yml` | å¼€å‘ç¯å¢ƒå®¹å™¨ç¼–æ’é…ç½® |
| `.github/workflows/deploy.yml` | GitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ |
| `deploy.sh` | æœåŠ¡å™¨ç«¯éƒ¨ç½²è„šæœ¬ |
| `server-setup.sh` | æœåŠ¡å™¨ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬ |
| `DEPLOYMENT.md` | è¯¦ç»†çš„éƒ¨ç½²é…ç½®æ–‡æ¡£ |

## License

MIT
