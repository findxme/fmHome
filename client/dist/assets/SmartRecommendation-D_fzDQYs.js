import{g as M,D as u,o as n,c as l,a as t,F as h,j as y,t as o,b as p,r as c,l as $,n as B}from"./index-DS0o_xtd.js";const R={class:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20"},S={class:"p-4"},A={class:"grid grid-cols-5 gap-3"},F=["onClick"],N={class:"text-3xl mb-1"},O={class:"text-xs text-gray-600 dark:text-gray-300"},V={key:0,class:"p-4"},z={class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},E={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},I={class:"space-y-3"},L=["onClick"],T=["src","alt"],q={class:"flex-1"},G={class:"font-semibold text-gray-800 dark:text-white"},H={class:"text-sm text-gray-500"},J={class:"text-xs text-gray-400 mt-1"},K={class:"p-4"},P=["disabled"],Q={key:0},U={key:1},W={key:0,class:"mt-4 bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm"},X={class:"text-center"},Y={class:"text-4xl mb-2"},Z={class:"font-bold text-lg text-gray-800 dark:text-white"},tt={class:"text-sm text-gray-500 mt-2"},et={class:"p-4"},st={key:0,class:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-4"},at={class:"text-sm text-gray-600 dark:text-gray-300 mb-3"},ot={class:"flex gap-2 overflow-x-auto pb-2"},nt=["onClick"],lt=["src"],rt={class:"text-xs text-gray-700 dark:text-gray-300 truncate"},gt={__name:"SmartRecommendation",setup(ct){const C=$(),v=c([]),x=c(null),m=c([]),b=c(""),i=c(!1),d=c(null),g=c(null);M(async()=>{try{const e=await u.getMoodOptions();e.data.success&&(v.value=e.data.data)}catch(e){console.error("èŽ·å–å¿ƒæƒ…é€‰é¡¹å¤±è´¥:",e)}try{const e=await u.getSeasonal();e.data.success&&(g.value=e.data.data)}catch(e){console.error("èŽ·å–å­£èŠ‚æŽ¨èå¤±è´¥:",e)}});const j=async e=>{x.value=e;try{const a=await u.recommendByMood({mood:e.name});a.data.success&&(m.value=a.data.data.recommendations||[],b.value=a.data.data.reason)}catch(a){console.error("æŽ¨èå¤±è´¥:",a)}},D=async()=>{i.value=!0;try{const e=await u.rollDice();e.data.success&&(d.value=e.data.data)}catch(e){console.error("éšæœºæŽ¨èå¤±è´¥:",e)}i.value=!1},_=e=>{e&&C.push(`/dish/${e}`)};return(e,a)=>{var f,k,w;return n(),l("div",R,[a[5]||(a[5]=t("div",{class:"bg-gradient-to-r from-accent-500 to-accent-600 text-white p-6 pt-12"},[t("h1",{class:"text-2xl font-bold mb-2"},"AI æ™ºèƒ½æŽ¨è"),t("p",{class:"text-accent-100"},"æ ¹æ®ä½ çš„å¿ƒæƒ…å’Œå£å‘³æŽ¨èèœå“")],-1)),t("div",S,[a[1]||(a[1]=t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"ä»Šå¤©å¿ƒæƒ…æ€Žä¹ˆæ ·ï¼Ÿ",-1)),t("div",A,[(n(!0),l(h,null,y(v.value,s=>{var r;return n(),l("button",{key:s.id,onClick:dt=>j(s),class:B(["flex flex-col items-center p-3 rounded-2xl transition-all",((r=x.value)==null?void 0:r.id)===s.id?"bg-accent-100 dark:bg-accent-900/30 ring-2 ring-accent-500":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"])},[t("span",N,o(s.icon),1),t("span",O,o(s.name),1)],10,F)}),128))])]),m.value.length>0?(n(),l("div",V,[t("h2",z,o((f=x.value)==null?void 0:f.name)+"çš„æ—¶å€™ï¼ŒæŽ¨èåƒè¿™ä¸ª~ ",1),t("p",E,o(b.value),1),t("div",I,[(n(!0),l(h,null,y(m.value,s=>(n(),l("div",{key:s.id,onClick:r=>_(s.id),class:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm flex items-center gap-4"},[t("img",{src:s.image_url||"/placeholder-food.jpg",alt:s.name,class:"w-20 h-20 rounded-xl object-cover"},null,8,T),t("div",q,[t("h3",G,o(s.name),1),t("p",H,o(s.category)+" Â· "+o(s.difficulty),1),t("p",J,o(s.cooking_time),1)]),a[2]||(a[2]=t("span",{class:"text-2xl"},"ðŸ‘‰",-1))],8,L))),128))])])):p("",!0),t("div",K,[a[3]||(a[3]=t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"çº ç»“ï¼Ÿé‚£å°±éšæœºå§ï¼",-1)),t("button",{onClick:D,disabled:i.value,class:"w-full py-4 bg-gradient-to-r from-accent-500 to-accent-600 text-white font-bold rounded-2xl shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2"},[i.value?(n(),l("span",Q,"ðŸŽ² é€‰ä¸­ä¸­...")):(n(),l("span",U,"ðŸŽ² éšæœºé€‰èœ"))],8,P),d.value?(n(),l("div",W,[t("div",X,[t("p",Y,o(((k=d.value.dish)==null?void 0:k.icon)||"ðŸ½ï¸"),1),t("h3",Z,o((w=d.value.dish)==null?void 0:w.name),1),t("p",tt,o(d.value.reason),1),t("button",{onClick:a[0]||(a[0]=s=>{var r;return _((r=d.value.dish)==null?void 0:r.id)}),class:"mt-3 px-6 py-2 bg-accent-500 text-white rounded-full text-sm"}," æŸ¥çœ‹åšæ³• ")])])):p("",!0)]),t("div",et,[a[4]||(a[4]=t("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"ðŸ‚ å­£èŠ‚æŽ¨è",-1)),g.value?(n(),l("div",st,[t("p",at,o(g.value.reason),1),t("div",ot,[(n(!0),l(h,null,y(g.value.recommendations,s=>(n(),l("div",{key:s.id,onClick:r=>_(s.id),class:"flex-shrink-0 bg-white dark:bg-gray-900 rounded-xl p-3 shadow-sm w-28"},[t("img",{src:s.image_url||"/placeholder-food.jpg",class:"w-full h-16 rounded-lg object-cover mb-2"},null,8,lt),t("p",rt,o(s.name),1)],8,nt))),128))])])):p("",!0)])])}}};export{gt as default};
