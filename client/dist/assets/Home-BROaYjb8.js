import{_ as H,u as N,o as n,c as i,a as t,n as I,w as L,t as o,b as C,d as j,e as D,T,r as x,f as z,g as U,h as q,i as G,v as J,F,j as V,k as E,l as K,m as P}from"./index-DS0o_xtd.js";const W={class:"relative"},X=["src","alt"],Y=["fill"],Z={class:"absolute bottom-2 left-2 flex items-center gap-1 px-2 py-1 bg-black/60 backdrop-blur-sm rounded-full text-white text-xs"},tt={class:"absolute bottom-2 right-2 flex items-center gap-1 px-2 py-1 bg-black/60 backdrop-blur-sm rounded-full text-white text-xs"},et={class:"p-4"},at={class:"flex items-center gap-2 mb-2 overflow-x-auto scrollbar-hide"},st={key:0,class:"flex-shrink-0 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full text-xs"},lt={class:"font-semibold text-lg text-gray-800 dark:text-white mb-1 line-clamp-1"},ot={class:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-3"},nt={class:"flex items-center justify-between"},rt={class:"flex items-center gap-1"},it={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},dt={key:0,class:"absolute inset-0 pointer-events-none flex items-center justify-center"},ct={__name:"DishCard",props:{dish:{type:Object,required:!0}},emits:["click","add-to-cart"],setup(r,{emit:M}){const v=r,m=M;N();const c=x(!1),b=x(!1),h=()=>{c.value=!c.value,c.value&&(b.value=!0,setTimeout(()=>{b.value=!1},500))},f=z(()=>({ç®€å•:"ðŸ”¥",ä¸­ç­‰:"ðŸ’ª",å›°éš¾:"ðŸ†"})[v.dish.difficulty]||"ðŸ’ª"),_=()=>{m("add-to-cart")},d=u=>{u.target.src="https://via.placeholder.com/400x300?text=ç¾Žé£Ÿå›¾ç‰‡"},B=u=>({åˆé¤:"bg-accent-100 text-accent-700 dark:bg-accent-900/30 dark:text-accent-400",æ™šé¤:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",æ—©é¤:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",æ±¤ç±»:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",å°é£Ÿ:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",ç´ èœ:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",ä¸»é£Ÿ:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",ç”œå“:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400"})[u]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300";return(u,l)=>{var $;return n(),i("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 active:scale-98",onClick:l[0]||(l[0]=p=>u.$emit("click"))},[t("div",W,[t("img",{src:(($=r.dish.images)==null?void 0:$[0])||r.dish.image_url||"/placeholder-dish.png",alt:r.dish.name,class:"w-full h-48 object-cover",onError:d,loading:"lazy"},null,40,X),l[3]||(l[3]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"},null,-1)),t("button",{onClick:L(h,["stop"]),class:I(["absolute top-2 left-2 w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:scale-110 active:scale-90 transition-all",{"text-red-500":c.value,"text-gray-400":!c.value}])},[(n(),i("svg",{class:"w-5 h-5",fill:c.value?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[1]||(l[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],8,Y))],2),t("div",Z,[l[2]||(l[2]=t("span",null,"â±ï¸",-1)),t("span",null,o(r.dish.cooking_time||"30åˆ†é’Ÿ"),1)]),t("div",tt,[t("span",null,o(f.value),1),t("span",null,o(r.dish.difficulty||"ä¸­ç­‰"),1)])]),t("div",et,[t("div",at,[t("span",{class:I(["flex-shrink-0 px-2 py-0.5 rounded-full text-xs font-medium",B(r.dish.category)])},o(r.dish.category||"å®¶å¸¸èœ"),3),r.dish.servings?(n(),i("span",st," ðŸ‘¤ "+o(r.dish.servings),1)):C("",!0)]),t("h3",lt,o(r.dish.name),1),t("p",ot,o(r.dish.description||"ä¸€é“ç¾Žå‘³çš„å®¶å¸¸èœ"),1),t("div",nt,[t("div",rt,[l[4]||(l[4]=t("span",{class:"text-yellow-500"},"â­",-1)),t("span",it,o(r.dish.rating||"4.8"),1)]),t("button",{onClick:L(_,["stop"]),class:"flex items-center gap-1 px-3 py-1.5 bg-accent-500 hover:bg-accent-600 text-white rounded-full text-sm font-medium active:scale-90 transition-all"},[...l[5]||(l[5]=[t("span",null,"ðŸ›’",-1),t("span",null,"åŠ èœå•",-1)])])])]),j(T,{"enter-active-class":"animate-heart-burst","leave-active-class":"animate-heart-burst"},{default:D(()=>[b.value?(n(),i("div",dt,[...l[6]||(l[6]=[t("span",{class:"text-4xl animate-ping"},"â¤ï¸",-1)])])):C("",!0)]),_:1})])}}},ut=H(ct,[["__scopeId","data-v-98af1b00"]]),gt={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300"},xt={class:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-30 transition-colors duration-300 pt-safe"},vt={class:"max-w-4xl mx-auto px-4 pb-4"},mt={class:"flex items-center justify-between mb-4"},yt={class:"flex items-center gap-2"},ht=["title"],bt={class:"text-lg"},ft={class:"flex items-center justify-between gap-2 mb-4"},pt={key:0,class:"max-w-4xl mx-auto px-4 py-3"},kt={class:"relative"},wt={class:"max-w-4xl mx-auto px-4 py-3 overflow-x-auto scrollbar-hide"},Ct={class:"flex gap-2"},_t=["onClick"],$t={class:"text-6xl mb-4 animate-bounce"},jt={class:"text-xl font-bold text-gray-800 dark:text-white mb-2"},Dt={class:"text-gray-500 dark:text-gray-400 text-sm mb-4"},Tt={class:"flex gap-3"},zt={key:0,class:"max-w-4xl mx-auto px-4 py-6"},Mt={key:1,class:"max-w-4xl mx-auto px-4 py-6"},Bt={class:"flex items-center justify-between mb-4"},It={class:"text-lg font-semibold text-gray-800 dark:text-white"},Lt={class:"text-sm text-gray-500 dark:text-gray-400"},St={key:0,class:"text-center py-16"},At={key:1,class:"columns-2 md:columns-3 gap-4 space-y-4"},qt={key:0,class:"fixed bottom-32 left-1/2 -translate-x-1/2 z-50"},Ft={class:"flex items-center gap-2 px-4 py-3 bg-gray-800 dark:bg-white text-white dark:text-gray-800 rounded-full shadow-lg"},Vt={class:"font-medium"},Et={__name:"Home",setup(r){const M=K(),v=N(),m=E("isDark"),c=E("toggleDark"),b=()=>{c?c():(m.value=!m.value,localStorage.setItem("theme",m.value?"dark":"light"))},h=x(""),f=x(!1),_=[{id:"all",name:"å…¨éƒ¨",icon:"ðŸ“‹"},{id:"quick",name:"å¿«æ‰‹èœ",icon:"âš¡"},{id:"meat",name:"ç¡¬èœ",icon:"ðŸ¥©"},{id:"vegetable",name:"ç´ é£Ÿ",icon:"ðŸ¥—"},{id:"soup",name:"æ±¤ç±»",icon:"ðŸ²"},{id:"breakfast",name:"æ—©é¤",icon:"ðŸ³"},{id:"dessert",name:"ç”œå“",icon:"ðŸ°"}],d=x("all"),B=a=>{d.value=d.value===a?"all":a},u=z(()=>{const a=_.find(e=>e.id===d.value);return a?a.name:"å…¨éƒ¨èœå“"}),l=z(()=>{let a=v.dishes||[];if(h.value){const e=h.value.toLowerCase();a=a.filter(s=>{var g,w;return((g=s.name)==null?void 0:g.toLowerCase().includes(e))||((w=s.tags)==null?void 0:w.toLowerCase().includes(e))})}return d.value==="quick"?a=a.filter(e=>{var s,g,w;return((s=e.cooking_time)==null?void 0:s.includes("15"))||((g=e.cooking_time)==null?void 0:g.includes("20"))||((w=e.cooking_time)==null?void 0:w.includes("30"))}):d.value==="meat"?a=a.filter(e=>e.category==="åˆé¤"||e.category==="æ™šé¤"):d.value==="vegetable"?a=a.filter(e=>{var s;return((s=e.tags)==null?void 0:s.includes("ç´ "))||e.category==="ç´ èœ"}):d.value==="soup"?a=a.filter(e=>{var s;return(s=e.tags)==null?void 0:s.includes("æ±¤")}):d.value==="breakfast"?a=a.filter(e=>e.category==="æ—©é¤"):d.value==="dessert"&&(a=a.filter(e=>{var s;return((s=e.tags)==null?void 0:s.includes("ç”œå“"))||e.category==="ç”œå“"})),a}),$=z(()=>v.loading),p=x(!1),y=x(null),R=()=>{const a=l.value;if(a.length===0){S("ðŸ½ï¸","è¿˜æ²¡æœ‰èœå“");return}const e=Math.floor(Math.random()*a.length);y.value=a[e],p.value=!0},k=x({show:!1,message:"",icon:""}),S=(a,e)=>{k.value={show:!0,icon:a,message:e},setTimeout(()=>{k.value.show=!1},2e3)},O=a=>{v.addToCart(a),S("ðŸ›’",`å·²åŠ å…¥èœå•ï¼š${a.name}`)},Q=a=>{v.addToCart(a)},A=a=>{M.push(`/dish/${a.id}`)};return U(()=>{v.loadDishes()}),(a,e)=>(n(),i("div",gt,[t("header",xt,[t("div",vt,[t("div",mt,[e[12]||(e[12]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-800 dark:text-white"},"ðŸ½ï¸ å®¶åº­ç‚¹é¤"),t("p",{class:"text-gray-500 dark:text-gray-400 text-sm mt-0.5"},"ä»Šå¤©æƒ³åƒç‚¹ä»€ä¹ˆï¼Ÿ")],-1)),t("div",yt,[t("button",{onClick:e[0]||(e[0]=s=>f.value=!f.value),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all active:scale-95",title:"æœç´¢èœå“"},[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),t("button",{onClick:e[1]||(e[1]=s=>a.$router.push("/family")),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all active:scale-95",title:"å®¶åº­åŽ¨æˆ¿"},[...e[11]||(e[11]=[t("span",{class:"text-lg"},"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§",-1)])]),t("button",{onClick:b,class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all active:scale-95",title:q(m)?"åˆ‡æ¢äº®è‰²æ¨¡å¼":"åˆ‡æ¢æ·±è‰²æ¨¡å¼"},[t("span",bt,o(q(m)?"â˜€ï¸":"ðŸŒ™"),1)],8,ht)])]),t("div",ft,[t("button",{onClick:e[2]||(e[2]=s=>a.$router.push("/ai-assistant")),class:"flex-1 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl shadow-lg hover:shadow-xl active:scale-95 transition-all text-sm font-medium"}," ðŸ¤– AI "),t("button",{onClick:R,class:"flex-1 py-2 bg-gradient-to-r from-accent-500 to-accent-600 text-white rounded-xl shadow-lg shadow-accent-500/30 hover:shadow-xl hover:shadow-accent-500/40 active:scale-95 transition-all text-sm font-medium"}," ðŸŽ² ä»Šå¤©åƒå•¥ "),t("button",{onClick:e[3]||(e[3]=s=>a.$router.push("/achievements")),class:"flex-1 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl shadow-lg hover:shadow-xl active:scale-95 transition-all text-sm font-medium"}," ðŸ† æˆå°± ")])])]),j(T,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:D(()=>[f.value?(n(),i("div",pt,[t("div",kt,[G(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>h.value=s),type:"text",placeholder:"æœç´¢èœå“ã€é£Ÿæ...",class:"w-full px-5 py-4 pl-14 rounded-2xl bg-white dark:bg-gray-800 shadow-lg border-2 border-accent-500 dark:border-accent-600 focus:outline-none text-lg dark:text-white",autofocus:""},null,512),[[J,h.value]]),e[13]||(e[13]=t("svg",{class:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])):C("",!0)]),_:1}),t("div",wt,[t("div",Ct,[(n(),i(F,null,V(_,s=>t("button",{key:s.id,onClick:g=>B(s.id),class:I(["flex-shrink-0 flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium transition-all active:scale-95",d.value===s.id?"bg-accent-500 text-white shadow-lg shadow-accent-500/30":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 shadow-sm hover:shadow-md"])},[t("span",null,o(s.icon),1),t("span",null,o(s.name),1)],10,_t)),64))])]),j(T,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90"},{default:D(()=>[p.value&&y.value?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:e[9]||(e[9]=s=>p.value=!1)},[t("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-sm w-full text-center shadow-2xl",onClick:e[8]||(e[8]=L(()=>{},["stop"]))},[t("div",$t,o(y.value.emoji||"ðŸ½ï¸"),1),t("h3",jt,o(y.value.name),1),t("p",Dt,o(y.value.description),1),t("div",Tt,[t("button",{onClick:e[5]||(e[5]=s=>Q(y.value)),class:"flex-1 py-3 bg-accent-500 text-white rounded-xl font-medium hover:bg-accent-600 active:scale-95 transition-all"}," ðŸ›’ åŠ å…¥èœå• "),t("button",{onClick:e[6]||(e[6]=s=>A(y.value)),class:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium active:scale-95 transition-all"}," æŸ¥çœ‹åšæ³• ")]),t("button",{onClick:e[7]||(e[7]=s=>p.value=!1),class:"mt-4 text-gray-400 text-sm"},"å…³é—­")])])):C("",!0)]),_:1}),$.value?(n(),i("div",zt,[...e[14]||(e[14]=[t("div",{class:"flex items-center justify-center py-20"},[t("div",{class:"text-center"},[t("div",{class:"text-4xl mb-4 animate-bounce"},"ðŸ½ï¸"),t("p",{class:"text-gray-500 dark:text-gray-400"},"æ­£åœ¨åŠ è½½èœå“...")])],-1)])])):(n(),i("div",Mt,[t("div",Bt,[t("h2",It,o(u.value),1),t("span",Lt,o(l.value.length)+" é“èœ",1)]),l.value.length===0?(n(),i("div",St,[...e[15]||(e[15]=[t("div",{class:"text-6xl mb-4"},"ðŸ”",-1),t("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white mb-2"},"æ²¡æœ‰æ‰¾åˆ°èœå“",-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"è¯•è¯•å…¶ä»–ç­›é€‰æ¡ä»¶å§",-1)])])):(n(),i("div",At,[(n(!0),i(F,null,V(l.value,s=>(n(),P(ut,{key:s.id,dish:s,class:"break-inside-avoid mb-4",onClick:g=>A(s),onAddToCart:g=>O(s)},null,8,["dish","onClick","onAddToCart"]))),128))]))])),j(T,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-y-8","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-8"},{default:D(()=>[k.value.show?(n(),i("div",qt,[t("div",Ft,[t("span",null,o(k.value.icon),1),t("span",Vt,o(k.value.message),1)])])):C("",!0)]),_:1})]))}},Nt=H(Et,[["__scopeId","data-v-1746707f"]]);export{Nt as default};
